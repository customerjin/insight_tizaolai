# 项目开发规范

## 数据真实性原则
1. **沙盒环境限制**：沙盒环境无法访问外部 API（Yahoo Finance、Google News 等），所有网络请求会失败。不要在沙盒里跑 pipeline 然后把空数据/降级数据当成果交付。
2. **交付标准**：如果需要真实数据，必须明确告知用户在本地运行命令，并说明原因。不要用示例数据充数，除非明确标注。
3. **自检流程**：每次生成或修改数据后，必须自动校验关键字段（price 非 null、列表非空等），发现问题立即处理，不要等用户发现。

## 前后端数据对接原则
1. 修改后端数据结构时，必须同步检查前端组件的字段引用是否匹配。
2. 前端组件应兼容多种数据格式（如 reason 可能是 string 或 object），做好防御性编码。
3. 修改 index.html 后必须同步到 web/index.html。

## 部署检查清单
1. 推送前确认 git 状态干净，无冲突。
2. 推送后主动提醒用户检查 Vercel Deployments 是否触发。
3. 数据文件有 CDN 缓存（1h），更新后可能需要加 `?v=xxx` 参数破缓存。

## 工作态度
- 主动自检，不要等用户发现问题才修。
- 发现沙盒限制导致数据不完整时，第一时间说明情况并给出本地运行方案。
- 做完一步想下一步，保持连贯性。
